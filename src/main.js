let ANIMATION_TIMING={SCENE_CHANGE:{TITLE_IN:1600,SUBTITLE_IN:500,VALUE_GROUP_IN:300,ELEMENT_EXIT:300,ELEMENT_EXIT_DELAY:60},TRANSITIONS:{OPACITY:"opacity 0.15s cubic-bezier(0.4, 0.0, 0.2, 1)",TRANSFORM:"transform 0.25s cubic-bezier(0.4, 0.0, 0.2, 1)"}},elements={title:()=>document.querySelector(".frame__title"),subtitles:()=>document.querySelectorAll(".frame__subtitle"),valueGroup:()=>document.querySelector(".frame__value-group"),dollarSymbol:()=>document.querySelector(".frame__dollar-symbol"),value:()=>document.querySelector(".frame__value"),rightColumn:()=>document.querySelector(".frame__right-column"),circleText:()=>document.querySelector(".frame__circle-text")},createCharacterSpan=e=>{var t=document.createElement("span");return t.textContent=e,t},createCharacterSpans=e=>[...e].map(createCharacterSpan),wrapTextInSpans=e=>{var e=e.querySelectorAll("span"),t=Array.from(e).map(e=>({element:e,text:e.textContent,isHighlight:e.classList.contains("frame__highlight")}));e.forEach(e=>e.textContent=""),t.forEach(({element:t,text:e})=>{createCharacterSpans(e).forEach(e=>t.appendChild(e))})},setupValueGroup=()=>{var e,t;elements.valueGroup()&&((e=elements.dollarSymbol())&&(t=createCharacterSpan(e.textContent),e.textContent="",e.appendChild(t)),e=elements.value())&&(t=createCharacterSpan(e.textContent),e.textContent="",e.appendChild(t))},setupSubtitles=()=>{elements.subtitles().forEach(wrapTextInSpans)},animateTextIn=(e,t,a=0)=>{var e=e.querySelectorAll("span > span, span"),n=e.length;let r=t/n;return Array.from(e).forEach((e,t)=>{setTimeout(()=>{e.style.opacity="1",e.style.transform="translateY(0)"},a+t*r)}),a+n*r},animateTextOut=t=>new Promise(a=>{var e=t.querySelectorAll("span > span, .frame__dollar-symbol > span, .frame__value > span");let n=e.length,r=ANIMATION_TIMING.SCENE_CHANGE.ELEMENT_EXIT/n;Array.from(e).reverse().forEach((e,t)=>{e.style.transition=ANIMATION_TIMING.TRANSITIONS.OPACITY+", "+ANIMATION_TIMING.TRANSITIONS.TRANSFORM,setTimeout(()=>{e.style.opacity="0",setTimeout(()=>{e.style.transform="translateY(-25px)",t===n-1&&setTimeout(a,50)},25)},t*r)})}),sceneTransitions={toSceneTwo:()=>{document.body.classList.remove("scene-one"),document.body.classList.add("scene-two")},backToSceneOne:()=>{document.body.classList.remove("scene-two"),document.body.classList.add("scene-one")}},animateSceneTwo=async()=>{var e=ANIMATION_TIMING.SCENE_CHANGE,t=elements.subtitles(),a=elements.valueGroup();let n=0;t[0]&&(n=animateTextIn(t[0],e.SUBTITLE_IN,n)),a&&(n=animateTextIn(a,e.VALUE_GROUP_IN,n)),t[1]&&(n=animateTextIn(t[1],e.SUBTITLE_IN,n))},animateExitSequence=async()=>{var e=elements.subtitles(),t=elements.valueGroup();let a=ANIMATION_TIMING.SCENE_CHANGE.ELEMENT_EXIT_DELAY;e[1]&&await animateTextOut(e[1]),await new Promise(e=>setTimeout(e,a)),t&&await animateTextOut(t),await new Promise(e=>setTimeout(e,a)),e[0]&&await animateTextOut(e[0])},setupAnimationListeners=()=>{var e=elements.rightColumn(),t=document.querySelector(".gradient");let a=document.querySelector(".frame__circle-text");e.addEventListener("animationend",async()=>{sceneTransitions.toSceneTwo(),a.classList.add("active"),await animateTextOut(elements.title()),await animateSceneTwo()}),a.addEventListener("animationend",e=>{"stickerSlap"===e.animationName&&a.classList.add("removing")}),t.addEventListener("animationend",async()=>{await animateExitSequence(),await new Promise(e=>setTimeout(e,500)),sceneTransitions.backToSceneOne();var e=elements.circleText();e&&e.classList.remove("active","removing"),await new Promise(e=>setTimeout(e,100)),animateTextIn(elements.title(),ANIMATION_TIMING.SCENE_CHANGE.TITLE_IN)})},initializeAnimations=()=>{var e=elements.title();wrapTextInSpans(e),setupSubtitles(),setupValueGroup(),animateTextIn(e,ANIMATION_TIMING.SCENE_CHANGE.TITLE_IN),setupAnimationListeners()};initializeAnimations();
//# sourceMappingURL=main.js.map
